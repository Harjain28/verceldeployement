<div class="pageMarginTop">
  <div class="space loginSignup changePassword">
    <div class="display-show-mobile">
      <div class="pageTopBar row">
        <div class="col-3">
          <a (click)="back()" class="backArrow">
            <img class="catImg" lazyLoad="./assets/images/icons/back.svg" />
          </a>
        </div>
        <div class="col-6 text-center">
          <h5 class="pgTitle">Change Password</h5>
        </div>
        <div class="col-3"></div>
      </div>
    </div>
    <div class="container my-3">
      <form [formGroup]="ChangePasswordForm">
        <div style="margin: 15px auto;">
          <div class="formCmg" *ngIf="!changePasswordId">
            <img class="icon" src="./assets/images/icons/icon-password.svg" style="height: 19px" />
            <input type="password" class="form-control" name="password" formControlName="oldpassword"
              placeholder="Old Password" [type]="cpvisibility ? 'text' : 'password'" />

            <div>
              <img src="./assets/images/icons/password-show.svg" class="actionAction" *ngIf="cpvisibility"
                (click)="cpvisibility = false" />
            </div>
            <div>
              <img src="./assets/images/icons/password-hide.svg" class="actionAction" *ngIf="!cpvisibility"
                (click)="cpvisibility = true" />
            </div>

          </div>
          <div class="error" *ngIf="
        ChangePasswordForm.controls.oldpassword.touched &&
        ChangePasswordForm.controls.oldpassword.hasError('required')
      ">
            Old Password field is required.
          </div>
          <div class="error" *ngIf="
ChangePasswordForm.controls.oldpassword.dirty &&
ChangePasswordForm.controls.oldpassword.hasError('minlength')
">

            Old Password field should be minimum 6 characters.
          </div>
          <div class="formCmg">
            <img class="icon" src="./assets/images/icons/icon-password.svg" style="height: 19px" />
            <input type="password" class="form-control" (input)="validation()" (blur)="
            matchinputValue(
              ChangePasswordForm?.controls?.password,
              ChangePasswordForm?.controls?.confirm_password
            )
          " name="password" formControlName="password" placeholder="New Password"
              [type]="pvisibility ? 'text' : 'password'" />

            <div>
              <img src="./assets/images/icons/password-show.svg" class="actionAction" *ngIf="pvisibility"
                (click)="pvisibility = false" />
            </div>
            <div>
              <img src="./assets/images/icons/password-hide.svg" class="actionAction" *ngIf="!pvisibility"
                (click)="pvisibility = true" />
            </div>

          </div>
          <div class="error" *ngIf="
      ChangePasswordForm.controls.password.touched &&
      ChangePasswordForm.controls.password.hasError('required')
    ">
            New Password is required.
          </div>
          <div class="passwordError" *ngIf="ChangePasswordForm.controls?.password.value !== '' && !formIsValid">
            <label
              [ngClass]="ChangePasswordForm.controls['password'].hasError('required') || ChangePasswordForm.controls['password'].hasError('minlength')  ? 'text-danger' : 'text-success'">
              <i class="material-icons">
                {{ ChangePasswordForm.controls['password'].hasError('required') ||
                ChangePasswordForm.controls['password'].hasError('minlength') ? 'cancel' :
                'check_circle' }}
              </i>
              Must be at least 8 characters!
            </label>

            <label class="col"
              [ngClass]="ChangePasswordForm.controls['password'].hasError('required') || ChangePasswordForm.controls['password'].hasError('hasNumber')  ? 'text-danger' : 'text-success'">
              <i class="material-icons">
                {{ ChangePasswordForm.controls['password'].hasError('required') ||
                ChangePasswordForm.controls['password'].hasError('hasNumber') ? 'cancel' :
                'check_circle' }}
              </i>
              Must contain at least 1 number!
            </label>

            <label class="col"
              [ngClass]="ChangePasswordForm.controls['password'].hasError('required') || ChangePasswordForm.controls['password'].hasError('hasCapitalCase')  ? 'text-danger' : 'text-success'">
              <i class="material-icons">
                {{ ChangePasswordForm.controls['password'].hasError('required') ||
                ChangePasswordForm.controls['password'].hasError('hasCapitalCase') ? 'cancel' :
                'check_circle' }}
              </i>
              Must contain at least 1 in Capital Case!
            </label>

            <label class="col"
              [ngClass]="ChangePasswordForm.controls['password'].hasError('required') || ChangePasswordForm.controls['password'].hasError('hasSmallCase')  ? 'text-danger' : 'text-success'">
              <i class="material-icons">
                {{ ChangePasswordForm.controls['password'].hasError('required') ||
                ChangePasswordForm.controls['password'].hasError('hasSmallCase') ? 'cancel' :
                'check_circle' }}
              </i>
              Must contain at least 1 Letter in Small Case!
            </label>

            <label class="col"
              [ngClass]="ChangePasswordForm.controls['password'].hasError('required') || ChangePasswordForm.controls['password'].hasError('hasSpecialCharacters') ? 'text-danger' : 'text-success'">
              <i class="material-icons">
                {{ ChangePasswordForm.controls['password'].hasError('required') ||
                ChangePasswordForm.controls['password'].hasError('hasSpecialCharacters') ? 'cancel' :
                'check_circle' }}
              </i>
              Must contain at least 1 Special Character!
            </label>
          </div>

          <div class="formCmg">
            <img class="icon" src="./assets/images/icons/icon-password.svg" style="height: 19px" />
            <input type="password" class="form-control" (blur)="
            matchinputValue(
              ChangePasswordForm?.controls?.password,
              ChangePasswordForm?.controls?.confirm_password
            )
          " name="confirm_password" formControlName="confirm_password" placeholder="Confirm New password"
              [type]="pcvisibility ? 'text' : 'password'" />

            <div>
              <img src="./assets/images/icons/password-show.svg" class="actionAction" *ngIf="pcvisibility"
                (click)="pcvisibility = false" />
            </div>
            <div>
              <img src="./assets/images/icons/password-hide.svg" class="actionAction" *ngIf="!pcvisibility"
                (click)="pcvisibility = true" />
            </div>
          </div>
          <div class="error" *ngIf="
      ChangePasswordForm.controls.confirm_password.touched &&
      ChangePasswordForm.controls.confirm_password.hasError('noMatch')
    ">
            Password do not match.
          </div>
          <div class="formCmg updatePasswordBtn">
            <button (click)="submitResetPasswordForm()" type="submit" class="btn submitBtn">Update</button>
          </div>
        </div>

      </form>
    </div>
  </div>
</div>